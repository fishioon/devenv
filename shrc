# export
export PATH=$PATH:$HOME/go/bin:$DEVENV_HOME/bin
export NVIM_LISTEN_ADDRESS=/tmp/nvimsocket
export EDITOR=nvim
export NODE_PATH=$(npm root --quiet -g)

# alias
alias vi='nvim'
alias vim='nvim'
alias c='pbcopy'
alias p='pbpaste'

alias ga='git add'
alias gc='git commit -v'
alias gcm='git checkout master'
alias gcd='git checkout develop'
alias gco='git checkout'
alias gd='git diff'
alias gp='git push'
alias gst='git status'

# function

rsrio() {
	dst=$1
	[ -z "$dst" ] && dst=dev1
	rsync --rsh=ssh -avz --exclude='.git' ~/go/src/git.oa.com/rio-ansible $dst:/data/ifish/
}

rscode() {
	dst=$1
	[ -z "$dst" ] && dst=rio-ansible
	rsync --rsh=ssh -avz --exclude='.git' ~/go/src/git.oa.com/$dst dev1:/data/ifish/git.oa.com/
}

fzf-down() {
	fzf --height 50% "$@" --border
}

is_in_git_repo() {
	git rev-parse HEAD > /dev/null 2>&1
}

gitignore() {
	if [ -f ".gitignore" ]; then 
		echo ".gitignore already exists"
	else
		lang=$1
		[ -z "$lang" ] && lang=Go
		curl -o .gitignore https://raw.githubusercontent.com/github/gitignore/master/${lang}.gitignore
	fi
}

cpabs() {
	name=`pwd`/$1
	printf $name | pbcopy
	echo $name
}

setproxy() {
  export HTTP_PROXY=$1
  export no_proxy=$2
  export HTTPS_PROXY=$HTTP_PROXY
  export http_proxy=$HTTP_PROXY
  export https_proxy=$HTTPS_PROXY
}

unsetproxy() {
  unset http_proxy; unset https_proxy; unset HTTP_PROXY; unset HTTPS_PROXY; unset no_proxy;
}

proxy() {
	if [[ -z "$HTTP_PROXY" ]]; then
		setproxy $PROXY_ADDRESS $NO_PROXY_DOMAIN
	else
		unsetproxy
	fi
}

bindkey '^o' autosuggest-execute

## go get github.com/gsamokovarov/jump 
eval "$(jump shell --bind=z)"
